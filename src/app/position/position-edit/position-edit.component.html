<div class="container">
  <h1>New Position</h1>
  <div class="row">

    <form (ngSubmit)="createPosition()" #positionForm="ngForm">
      <div class="form-group">
        <label for="position">Position</label>
        <input type="text" class="form-control" [(ngModel)]="position.position" name="position" id="position" required />
      </div>
      <div class="form-group">
        <label for="unit">Unit</label>
        <input type="number" step="0.0001" class="form-control" [(ngModel)]="position.unit" name="unit" id="unit" (ngModelChange)="updateProfit($event)" required>
      </div>
      <div class="form-group">
        <label for="type">Type</label>
        <select #service="ngModel" class="form-control" name="type" id="type" [(ngModel)]="position.type" (ngModelChange)="updateProfit($event)">
          <option *ngFor="let item of types" [value]='item'>
            {{item}}
          </option>
        </select>
      </div>
      <div class="form-group">
        <label for="entry">Entry</label>
        <input type="number" step="0.0001" class="form-control" [(ngModel)]="position.entry" name="entry" id="entry" (ngModelChange)="updateProfit($event)" required>
      </div>

      <div class="form-group">
        <label for="exit">Exit</label>
        <input type="number" step="0.0001" class="form-control" [(ngModel)]="position.exit" name="exit" id="exit" (ngModelChange)="updateProfit($event)" required>
      </div>
      <div class="form-group">
        <label for="entryDate">Entry Date</label>
        <input type="date" class="form-control" [ngModel]="position.entryDate | date: 'yyyy-MM-dd'" (ngModelChange) = "position.entryDate = $event"  name="entryDate" id="entryDate" required>
      </div>
      <div class="form-group">
        <label for="exitDate">Exit Date</label>
        <input type="date" class="form-control" [ngModel]="position.exitDate | date: 'yyyy-MM-dd'" (ngModelChange) = "position.exitDate = $event" name="exitDate" id="exitDate" required>
      </div>
      <div class="form-group">
        <label for="profit">Profit</label>
        <input type="number" step="0.01" class="form-control" [(ngModel)]="position.profit" name="profit" id="profit" disabled>
      </div>
      <div class="form-group">
        <button type="submit" class="btn btn-success" [disabled]="!positionForm.form.valid">Save</button>
      </div>
    </form>
  </div>
</div>
